<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Surprise!</title>
<style>
  html,body{height:100%;margin:0;background:#000;display:flex;align-items:center;justify-content:center;}
  video{max-width:100%;max-height:100%;display:block;}
  #overlay{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    background:rgba(0,0,0,0.65);color:#fff;font-size:24px;cursor:pointer;
    transition:opacity .2s;backdrop-filter: blur(2px);
  }
  #overlay.hidden{opacity:0;pointer-events:none;}
  #hint{font-size:18px;opacity:0.9}
</style>
</head>
<body>
  <video id="v" playsinline controls>
    <source src="prank.mp4" type="video/mp4">
    Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ video.
  </video>

  <div id="overlay">
    <div>
      <div id="title">press to play video üîä</div>
      <div id="hint" style="margin-top:8px;font-size:14px">N·∫øu kh√¥ng mu·ªën ch·ªù, nh·∫•n 1 l·∫ßn ‚Äî s·∫Ω nghe ngay.</div>
    </div>
  </div>

<script>
  const video = document.getElementById('v');
  const overlay = document.getElementById('overlay');

  // C·ªë g·∫Øng play ngay khi load (nhi·ªÅu tr√¨nh duy·ªát s·∫Ω ch·∫∑n n·∫øu kh√¥ng c√≥ user gesture)
  window.addEventListener('load', async () => {
    try {
      await video.play();
      // N·∫øu tr√¨nh duy·ªát cho ph√©p, ·∫©n overlay (nhi·ªÅu tr√¨nh duy·ªát cho ph√©p autoplay n·∫øu kh√¥ng c√≥ track √¢m thanh;
      // n·∫øu video c√≥ √¢m thanh v√† ƒë∆∞·ª£c cho ph√©p, th√¨ overlay c≈©ng s·∫Ω ·∫©n)
      overlay.classList.add('hidden');
    } catch (e) {
      // B·ªã ch·∫∑n ‚Äî ƒë·ªÉ overlay hi·ªÉn th·ªã ƒë·ªÉ k√≠ch ho·∫°t user gesture
      overlay.classList.remove('hidden');
      console.log('Autoplay b·ªã ch·∫∑n, ch·ªù user gesture ƒë·ªÉ b·∫≠t √¢m thanh.');
    }
  });

  // Khi ng∆∞·ªùi xem click (gesture), b·∫≠t √¢m thanh v√† play
  overlay.addEventListener('click', async (ev) => {
    try {
      // ƒë·∫£m b·∫£o √¢m thanh b·∫≠t
      video.muted = false;
      await video.play();
      overlay.classList.add('hidden');
    } catch (err) {
      console.log('Kh√¥ng th·ªÉ play ngay: ', err);
      // n·∫øu v·∫´n l·ªói, th·ª≠ resume AudioContext trick (n·∫øu d√πng WebAudio)
    }
  });

  // N·∫øu mu·ªën: khi click v√†o ch√≠nh video c≈©ng s·∫Ω b·∫≠t √¢m thanh
  video.addEventListener('click', async () => {
    if (video.muted) {
      try { video.muted = false; await video.play(); overlay.classList.add('hidden'); } catch(e){}
    }
  });
</script>
</body>
</html>
